(function($){window.ps=window.ps||{};ps.currentBreakpoint=null;ps.breakpoints={xl:1600,lg:1024,md:750,sm:360,nav:1200,};$(document).on('click','[data-layer]',(event)=>{dataLayer.push($(e.currentTarget).data('layer'));return!0});function showerrors(poErrors,poParent){poParent=poParent||'';$('.s-error').addClass('j-hidden');if(typeof poErrors!=='object'){return!1}
for(const lsField in poErrors){if(!poErrors.hasOwnProperty(lsField)){continue}
const lsError=poErrors[lsField];if(poParent.length>0){$(poParent).find(`[data-for=${lsField}]`).html(lsError).removeClass('j-hidden')}else{$(`[data-for=${lsField}]`).html(lsError).removeClass('j-hidden')}}}
enquire.register(`screen and (min-width: ${ps.breakpoints.xl}px)`,{match(){ps.currentBreakpoint='xl'},}).register(`screen and (min-width: ${ps.breakpoints.lg}px) and (max-width: ${ps.breakpoints.xl - 1}px)`,{match(){ps.currentBreakpoint='lg'},}).register(`screen and (min-width: ${ps.breakpoints.md}px) and (max-width: ${ps.breakpoints.lg - 1}px)`,{match(){ps.currentBreakpoint='md'},}).register(`screen and (max-width: ${ps.breakpoints.md - 1}px)`,{match(){ps.currentBreakpoint='sm'},}).register(`screen and (max-width: ${ps.breakpoints.nav - 1}px)`,{match(){ps.navBreakpoint=!0},unmatch(){ps.navBreakpoint=!1},});$('a[href*="#"]:not([href="#"])').on('click',function(){if(location.pathname.replace(/^\//,'')===this.pathname.replace(/^\//,'')&&location.hostname===this.hostname){let target=$(this.hash);target=target.length?target:$(`[name=${this.hash.slice(1)}]`);if(target.length){$('html, body').animate({scrollTop:target.offset().top-100,},0);return!1}}});$(document).on('click','.s-dropdown-styled, .s-dropdown-border',(e)=>{$('.s-dropdown-styled, .s-dropdown-border').not(e.currentTarget).find('ul').slideUp();$(e.currentTarget).find('ul').slideToggle();$(e.currentTarget).toggleClass('is-active')});function liftcurtain(){$(document).off('keydown.curtain');$('.p-popupCurtain, .p-popup').remove();$('body').removeClass('j-noScroll')}
function dropcurtain(psId){liftcurtain();$(document).on('keydown.curtain',(poEvent)=>{if(poEvent.key=='Escape'){liftcurtain()}});$(document.body).prepend(`<div class="p-popupCurtain"></div><div class="loadingWrap p-popup ${psId}"><img src="/content/images/loading.gif" alt="loading"></div>`)}
$(document).on('click','.j-close-popup',()=>{$.popup.close()});function loadpopup(psId,psUrl,poData=null,pfCallback=null){dropcurtain(psId);if(typeof pfCallback==='undefined'){pfCallback=''}
$.get(psUrl,poData,(poResponse)=>{$('.p-popup').html(poResponse).removeClass('loadingWrap');$('.p-popup').css('top','0px')}).done(pfCallback)}
$(document).on('click','.popupClose, .p-popupCurtain, .p-popupClose, .noThanks',(e)=>{e.preventDefault();liftcurtain()});$(document).on('click','.zoomBtn',(e)=>{if(!$('body').hasClass('mobile')){const clickedimage=$(e.currentTarget).find('.mainImageChildren:not(.j-hidden)');loadpopup('zoomPop',`/zoom-popup?i=${clickedimage.data('image')}&p=${clickedimage.data('style')}&c=${clickedimage.data('colour')}&s=${clickedimage.data('size')}`)}});$(document).on('submit','#j-login-form',function(e){e.preventDefault();const loginForm=$(this);const formData=loginForm.serializeArray();loginForm.find('.j-email-error').addClass('is-hidden');loginForm.find('.j-password-error').addClass('is-hidden');loginForm.find('.j-form-error').addClass('is-hidden');$.ajax({url:'/customerapi/login',type:'post',dataType:'json',data:formData,success(response){if(response.status){$(document).trigger('psevent',['analyticsEvent',response.data.datalayer]);window.location.href='/my-account'}else{loginForm.find('.j-form-error').removeClass('is-hidden').html('Incorrect email or password')}},})});$(document).on('click','.j-password-slide-in',(e)=>{e.preventDefault();$.slideIn.open({url:'/password-slide-in',class:'password-slide-in',})});$(document).on('submit','#j-forgot-password-form',function(e){e.preventDefault();const forgotpasswordForm=$(this);const formData=forgotpasswordForm.serializeArray();forgotpasswordForm.find('.j-form-success').addClass('is-hidden');forgotpasswordForm.find('.j-email-error').addClass('is-hidden');forgotpasswordForm.find('.j-form-error').addClass('is-hidden');$.ajax({url:'/customerapi/forgotpassword',type:'post',dataType:'json',data:formData,success(response){if(response.status){forgotpasswordForm.find('#email').val('');forgotpasswordForm.find('.j-form-success').removeClass('is-hidden').html(response.data.message)}else if(response.data.errors.form){forgotpasswordForm.find('.j-form-error').removeClass('is-hidden').html(response.data.errors.form)}else if(response.data.errors.email){forgotpasswordForm.find('.j-email-error').removeClass('is-hidden').html(response.data.errors.email)}},})});$(document).on('submit','#j-reset-password-form',function(e){e.preventDefault();const resetpasswordForm=$(this);const formData=resetpasswordForm.serializeArray();resetpasswordForm.find('.j-password-error').addClass('is-hidden');resetpasswordForm.find('.j-repeatpassword-error').addClass('is-hidden');$.ajax({url:'/customerapi/resetpassword',type:'post',dataType:'json',data:formData,success(response){if(response.status){window.location.href='/my-account'}else if(response.data.errors.form){resetpasswordForm.find('.j-form-error').removeClass('is-hidden').html(response.data.errors.form)}else{if(response.data.errors.password){resetpasswordForm.find('.j-password-error').removeClass('is-hidden').html(response.data.errors.password)}
if(response.data.errors.repeatpassword){resetpasswordForm.find('.j-repeatpassword-error').removeClass('is-hidden').html(response.data.errors.repeatpassword)}}},})});let slideInLoginCloseTimeout=null;$(document).on('click','.login-slide-in button.j-close-slide-in',()=>{window.clearTimeout(slideInLoginCloseTimeout);slideInLoginCloseTimeout=window.setTimeout(()=>{if($.slideIn.instance){$.slideIn.close()}},500)});let slideInPasswordCloseTimeout=null;$(document).on('click','.password-slide-in button.j-close-slide-in',()=>{window.clearTimeout(slideInPasswordCloseTimeout);slideInPasswordCloseTimeout=window.setTimeout(()=>{if($.slideIn.instance){$.slideIn.close()}},500)});const password={toggleVisibility(){const $toggle=$(this);const $input=$toggle.prev();const isPassword=$input.attr('type')==='password';$input.attr('type',isPassword?'text':'password');$toggle.toggleClass('is-toggled')},};$(document).on('click','.j-password-toggle',password.toggleVisibility);function siteinfoslider(){const siteinfoslider=$('.siteInfoSlider');if($('body').hasClass('mobile')||$('body').hasClass('tablet')){if(!siteinfoslider.hasClass('slick-initialized')){siteinfoslider.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,autoplay:!0,autoplaySpeed:2000,})}}else if(siteinfoslider.hasClass('slick-initialized')){siteinfoslider.slick('unslick')}}
$(()=>{siteinfoslider();$(window).on('resize',()=>{siteinfoslider()});$('.footerToggler').on('click',(e)=>{if(ps.currentBreakpoint==='md'||ps.currentBreakpoint==='sm'){$('.footerToggler').not(e.currentTarget).next('ul').slideUp();$(e.currentTarget).next('ul').slideToggle()}});$(document).on('click','.matchSizeWrap',(e)=>{$(this).find('ul').slideToggle('fast')});$(document).on('click','.matchColourWrap',(e)=>{$(this).find('ul').slideToggle('fast')});$('.faqBlock .question').on('click',(e)=>{$('.faqBlock .question').not(e.currentTarget).removeClass('j-faqActive');$('.faqBlock .question').not(e.currentTarget).next('.answer').slideUp();$(e.currentTarget).toggleClass('j-faqActive');$(e.currentTarget).next('.answer').slideToggle()});$('.faqListToggler').on('click',()=>{$('.faqList').slideToggle()});$('.faqContent').hide();const activeTab=$('.faqList li.j-faqActive').attr('rel');$(`#${activeTab}`).show();$('.faqList li').on('click',(e)=>{$('.faqContent').hide();const activeTab=$(this).attr('rel');$(`#${activeTab}`).fadeIn();const url=`/faq/${activeTab}`;window.history.pushState('','',url);$('.faqList li').removeClass('j-faqActive');$(this).addClass('j-faqActive');if(!$('body').hasClass('desktop')){$('.faqList').slideUp()}});$('#file').on('change',(e)=>{if($(e.currentTarget).val()){let fileName=$(e.currentTarget).val();fileName=fileName.substring(fileName.lastIndexOf('\\')+1,fileName.length);$('.cvWrap').find('.filName').html(fileName)}});$(document).on('submit','.j-newsletter-form',function(e){e.preventDefault();const _self=this;$.post('/general-process?a=newslettersignup',$(this).serializeArray(),(response)=>{$('.j-newslettermessage').addClass('j-hidden');if(response.status){$('.j-newslettermessage').html(response.data).removeClass('j-hidden');_self.reset();setTimeout(()=>{liftcurtain()},2000)}
showerrors(response.errors,_self)})});if(!$('body').hasClass('mobile')&&window.haspopups){const ls_cookiename='firstvisit';const ls_cookie=$.getCookie(ls_cookiename);if(ls_cookie===''){$.setCookie(ls_cookiename,1,60*60*24*30*1000);setTimeout(()=>{loadpopup('welcome','/welcome-popup')},15000)}}
const ls_rewardscookiename='rewardsfirstvisit';const ls_cookierewards=$.getCookie(ls_rewardscookiename);if(ls_cookierewards===''){$('.mobileSignUpPrompt').removeClass('j-hidden')}
$(document).on('click','.closemobileSignUpPrompt',()=>{$.setCookie(ls_rewardscookiename,1,60*60*24*30*1000);$('.mobileSignUpPrompt').addClass('j-hidden')});$(document).on('click','.welcomePopTrigger',()=>{loadpopup('welcome-popup','/welcome-popup')})});if($('.j-timeline').length){const timelineLeft=$('[data-aos="fade-right"]');enquire.register('screen and (max-width: 750px)',{match(){timelineLeft.attr('data-aos','fade-left');AOS.refreshHard()},unmatch(){timelineLeft.attr('data-aos','fade-right');AOS.refreshHard()},setup(){AOS.init({duration:600,easing:'ease-in-out',offset:200,})},})}
const promoBar=new Vue({el:'#v-promo-bar',data(){return{promoHeader:window.promoHeaderContent,isProduct:window.isProductPage,promoBarClosed:!!$.getCookie('promoBarClosed'),}},computed:{displayPromoBar(){return(this.promoHeader&&Object.keys(this.promoHeader).length)&&!this.isProduct&&!this.promoBarClosed},},methods:{closePromoBar(){$.setCookie('promoBarClosed',!0,1);this.promoBarClosed=!0},},});if(window.PsPageBuilder){Vue.use(window.PsPageBuilder,{global:{slider:{pagination:{el:'.swiper-pagination',type:'bullets',},navigation:{enabled:!1,},},},banner:{slider:{autoplay:{slidesPerView:'auto',delay:5000,},autoHeight:!0,},},productslider:{twowide:{slider:{breakpoints:{0:{slidesPerView:2,slidesPerGroup:2},},},},threewide:{slider:{breakpoints:{0:{slidesPerView:2,slidesPerGroup:2},},},},fourwide:{slider:{breakpoints:{0:{slidesPerView:2,slidesPerGroup:2},768:{slidesPerView:3},1020:{slidesPerView:4},},spaceBetween:0,pagination:{enabled:!1,},},},fivewide:{slider:{breakpoints:{0:{slidesPerView:2,slidesPerGroup:2},751:{slidesPerView:4,slidesPerGroup:4},},},},},});if(window.pagebuilder){const blocks=['v-page','v-page-template-top','v-page-template-bottom','v-page-category-top','v-page-category-bottom','v-page-product-top','v-page-product-bottom',];blocks.forEach((elem)=>{if(document.getElementById(elem)!==null){new Vue({el:`#${elem}`,name:'PageBuilder',data(){return{pagebuilder:window.pagebuilder,}},})}})}}}(jQuery))