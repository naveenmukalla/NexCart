var GlobalEventBus=GlobalEventBus||new Vue();(($)=>{if($('#v-site-header').length){const vcSiteNav={name:'SiteNav',template:'#vc-component-site-nav',inject:['screen'],props:{active:{type:Boolean,default:!1,},level:{type:Number,default:1,},megaMenu:{type:[Object,Array],default:(()=>[]),},items:{type:[Array,Object],default:()=>[],},parent:{type:Object,default:null,},},data(){return{activeNavIndex:null,}},methods:{closeNav(){this.$emit('back',null);this.$emit('close')},displaySubNav(children){return this.level<2&&children},getMegaMenuItems(menu){if(Array.isArray(menu))return[];return Object.values(menu).map((item)=>item.items).flat()},goBack(){this.$emit('back',null)},goToIndex(index){this.$el.scrollTop=0;this.activeNavIndex=index},goToPage(location){window.location.href=location},},};new Vue({el:'#v-site-header',name:'SiteHeader',store:peppercheckout.cart.$store,components:{'site-nav':vcSiteNav,},provide(){return{screen:this.screen,}},data(){return{isNavActive:!1,isSearchActive:!1,navigory:window.navigory,offset:'0',screen:{value:'large',},}},computed:{orderSummary(){return this.$store.state.ordersummary},},mounted(){GlobalEventBus.$on('search:hide',this.toggleSearch);enquire.register(`screen and (max-width: ${ps.breakpoints.nav}px)`,{match:this.initSmallNav,});enquire.register(`screen and (min-width: ${ps.breakpoints.nav + 1}px)`,{match:this.initLargeNav,})},methods:{openCart(){peppercheckout.globals.$eventbus.$emit('showcartslider')},initSmallNav(){this.screen.value='small'},initLargeNav(){this.screen.value='large'},toggleLogIn(){$.slideIn.open({url:'/login-slide-in',class:'ps-slide-in--login',});if(this.isNavActive)this.toggleNav();},toggleNav(){this.isNavActive=!this.isNavActive;document.body.classList.toggle('is-nav-active');document.body.classList.toggle('u-no-scroll')},toggleSearch(){this.isSearchActive=!this.isSearchActive},},})}})(jQuery)