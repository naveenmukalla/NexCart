<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>NexCart Admin Panel</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: #f4f6fb;
}

/* LAYOUT */
.admin-container {
  display: flex;
  height: 100vh;
}

/* SIDEBAR */
.sidebar {
  width: 230px;
  background: linear-gradient(180deg, #111, #1a1a1a);
  color: #fff;
  padding: 20px;
  display: flex;
  flex-direction: column;
}

.sidebar h2 {
  color: #f4193e;
  margin-bottom: 25px;
}

.sidebar ul {
  list-style: none;
  padding: 0;
  flex: 1;
}

.sidebar li {
  padding: 12px 14px;
  margin-bottom: 8px;
  cursor: pointer;
  border-radius: 6px;
  transition: background 0.3s;
}

.sidebar li:hover {
  background: #f4193e;
}

.sidebar button {
  margin-top: auto;
  padding: 10px;
  border-radius: 6px;
  width: 100%;
}

/* MAIN */
.main {
  flex: 1;
  padding: 25px;
  overflow-y: auto;
}

.section {
  display: none;
}

.section.active {
  display: block;
}

/* DASHBOARD CARDS */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: 20px;
  margin-top: 20px;
}

.card {
  background: #fff;
  padding: 22px;
  border-radius: 12px;
  box-shadow: 0 6px 16px rgba(0,0,0,0.08);
  transition: transform 0.3s;
}

.card:hover {
  transform: translateY(-5px);
}

.card span {
  display: block;
  font-size: 30px;
  margin-top: 10px;
  color: #f4193e;
}

/* TABLE */
table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 20px;
}

th {
  background: #f4193e;
  color: #fff;
  padding: 12px;
}

td {
  padding: 12px;
  border-bottom: 1px solid #eee;
  text-align: center;
}

tr:hover td {
  background: #f9f9f9;
}

/* STATUS */
.status.active {
  color: #0bbf5a;
  font-weight: bold;
}

.status.blocked {
  color: #f4193e;
  font-weight: bold;
}

/* BUTTONS */
button {
  background: #f4193e;
  color: #fff;
  border: none;
  padding: 7px 14px;
  cursor: pointer;
  border-radius: 6px;
  transition: opacity 0.3s;
}

button:hover {
  opacity: 0.85;
}

button.green {
  background: #0bbf5a;
}

button.black {
  background: #111;
}

/* MODALS */
#orderModal,
#userModal {
  display: none;
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

#orderModal > div,
#userModal > div {
  background: #fff;
  padding: 22px;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}

/* SETTINGS */
#settings table td {
  padding: 14px;
}

input,
select {
  padding: 8px;
  width: 100%;
  border-radius: 6px;
  border: 1px solid #ccc;
  outline: none;
}

input:focus,
select:focus {
  border-color: #f4193e;
}


.container{
  max-width:1200px;
  margin:30px auto;
  background:#fff;
  padding:20px;
  border-radius:10px;
}

h2{margin-top:0}

/* FORM */
.form-grid{
  display:flex;
  flex-direction: column;
  gap:15px;
}

input, select{
  padding:10px;
  border-radius:6px;
  border:1px solid #ccc;
}

textarea{
  grid-column:span 3;
  padding:10px;
  border-radius:6px;
}

button{
  background:#f4193e;
  color:#fff;
  border:none;
  padding:10px 14px;
  border-radius:6px;
  cursor:pointer;
}

button.black{background:#111}
button.green{background:#0bbf5a}

/* TABLE */
table{
  width:100%;
  border-collapse:collapse;
  margin-top:30px;
}

th{
  background:#f4193e;
  color:#fff;
  padding:10px;
}

td{
  padding:10px;
  border-bottom:1px solid #ddd;
  text-align:center;
}

.status.active{color:#0bbf5a;font-weight:bold}
.status.disabled{color:#f4193e;font-weight:bold}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

<script>
/* üîê ADMIN PROTECTION */
if (localStorage.getItem("loggedUser") !== "admin@nexcart.com") {
  alert("Admin only access");
  window.location.href = "login.html";
}
</script>

<div class="admin-container">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2>üõí NexCart</h2>
    <ul>
      <li onclick="showSection('dashboard')">Dashboard</li>
      <li onclick="showSection('orders')">Orders</li>
      <li onclick="showSection('products')">Products</li>
      <li onclick="showSection('users')">Users</li>
      <li onclick="showSection('sales')">Sales</li>
      <li onclick="showSection('settings')">Settings</li>
      <li onclick="showSection('sellers')">Sellers</li>
      <li onclick="showSection('sellerProducts')">Seller Products</li>
      <li onclick="showSection('payouts')">Seller Payouts</li>



      <button onclick="logout()"><i class="fas fa-sign-out-alt"></i>Logout</button>

    </ul>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- DASHBOARD -->
    <section id="dashboard" class="section">
      <h2>Dashboard</h2>

      <div class="cards">
        <div class="card"><i class="fas fa-users"></i>Users <span id="totalUsers">0</span></div>
        <div class="card">Orders <span id="totalOrders">0</span></div>
        <div class="card">Revenue ‚Çπ<span id="totalRevenue">0</span></div>
        <div class="card">Cancelled <span id="cancelledOrders">0</span></div>
      </div>
    </section>

    <!-- ORDERS -->
    <section id="orders" class="section">
      <h2>Orders</h2>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Total</th>
            <th>Status</th>
            <th>Details</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="ordersTable"></tbody>
      </table>
    </section>
    <!-- ORDER DETAILS MODAL -->
<div id="orderModal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  align-items:center;
  justify-content:center;
">
  <div style="
    background:#fff;
    padding:20px;
    width:400px;
    border-radius:8px;
  ">
    <h3>Order Details</h3>
    <div id="orderDetails"></div>
    <br>
    <button onclick="closeOrderModal()">Close</button>
  </div>
</div>


    <!-- PRODUCTS -->
    <section id="products" class="section">
      <div class="container">
<h2>üõí Product Management</h2>

<!-- ADD PRODUCT -->
<h3>Add New Product</h3>

<div class="form-grid">
  <input id="title" placeholder="Product Title">
  <input id="brand" placeholder="Brand">
  <input id="price" placeholder="Price">

  <input id="oldPrice" placeholder="Old Price">
  <input id="discount" placeholder="Discount %">
  <input id="stock" placeholder="Stock">

  <select id="category">
  <option value="">Select Page</option>
  <option value="tshirts">Men T-Shirts</option>
  <option value="tshirtswomens">Women T-Shirts</option>
  <option value="lehangas">Lehangas</option>
  <option value="womenjeens">Women Jeans</option>
  <option value="womenfootwear">Women Footwear</option>
  <option value="laptops">Laptops</option>
</select>

<select id="subCategory">
  <option value="">Sub Category (optional)</option>
  <option value="casual">Casual</option>
  <option value="party">Party</option>
  <option value="formal">Formal</option>
</select>


  <input id="sizes" placeholder="Sizes (comma separated)">
  <textarea id="images" placeholder="Image URLs (comma separated)"></textarea>
</div>

<br>
<button onclick="addProduct()">Add Product</button>

<!-- PRODUCT LIST -->
<h3>All Products</h3>

<table>
<thead>
<tr>
  <th>ID</th>
  <th>Title</th>
  <th>Category</th>
  <th>Price</th>
  <th>Status</th>
  <th>Action</th>
</tr>
</thead>
<tbody id="productTable"></tbody>
</table>

</div>
    </section>

    <!-- USERS -->
<section id="users" class="section">
  <h2>Users Management</h2>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Status</th>
        <th>Orders</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="userTable"></tbody>
  </table>
</section>

<!-- USER DETAILS MODAL -->
<div id="userModal" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
  align-items:center;
  justify-content:center;
">
  <div style="background:#fff;padding:20px;width:450px;border-radius:8px">
    <h3>User Profile</h3>
    <div id="userDetails"></div>
    <br>
    <button onclick="closeUserModal()">Close</button>
  </div>
</div>

    <section class="section" id="sales">
      <h3>üìä Sales Overview</h3>
      <canvas id="salesChart" height="100"></canvas>
    </section>

    <section id="settings" class="section">
  <h2>‚öôÔ∏è Checkout Settings</h2>
  <table>
    <tr>
      <td><b>Delivery Charge (‚Çπ)</b></td>
      <td>
        <input type="number" id="deliveryCharge" placeholder="Ex: 40">
      </td>
    </tr>

    <tr>
      <td><b>Discount Type</b></td>
      <td>
        <select id="discountType">
          <option value="flat">Flat (‚Çπ)</option>
          <option value="percent">Percentage (%)</option>
        </select>
      </td>
    </tr>

    <tr>
      <td><b>Discount Value</b></td>
      <td>
        <input type="number" id="discountValue" placeholder="Ex: 10">
      </td>
    </tr>
  </table>

  <br>
  <button onclick="saveSettings()">Save Settings</button>
</section>

<!-- SELLERS -->
<section id="sellers" class="section">
  <h2>Seller Applications</h2>

  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Email</th>
        <th>Business</th>
        <th>Mobile</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="sellerTable"></tbody>
  </table>
</section>
<!-- SELLER PAYOUTS -->
<section id="payouts" class="section">
  <h2>Seller Payout Requests</h2>

  <table>
    <thead>
      <tr>
        <th>Seller</th>
        <th>Amount</th>
        <th>Status</th>
        <th>Requested On</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="payoutTable">
      <tr>
        <td colspan="5">Loading...</td>
      </tr>
    </tbody>
  </table>
</section>

<!-- SELLER PRODUCTS -->
<section id="sellerProducts" class="section">
  <h2>Seller Products (Approval)</h2>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Seller</th>
        <th>Category</th>
        <th>Price</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="sellerProductTable">
      <tr><td colspan="7">Loading...</td></tr>
    </tbody>
  </table>
</section>


  </main>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/frontend/js/admin.js"></script>
</body>
</html>
