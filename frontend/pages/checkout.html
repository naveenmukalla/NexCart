<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>NexCart | Checkout</title>
<style>
  .address-option {
  border: 1px solid #ddd;
  padding: 12px;
  border-radius: 6px;
  margin-bottom: 10px;
  display: flex;
  gap: 10px;
  cursor: pointer;
}

.address-option.active {
  border-color: #f4193e;
  background: #fff5f7;
}

.address-option input {
  margin-top: 5px;
}
.payment-box {
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
}

.pay-section {
  border-bottom: 1px solid #eee;
}

.pay-header {
  display: flex;
  gap: 10px;
  padding: 14px;
  cursor: pointer;
  background: #fafafa;
  font-weight: bold;
}

.pay-body {
  display: none;
  padding: 15px;
}

.pay-body.active {
  display: block;
}

.upi-option {
  display: block;
  padding: 6px 0;
  font-size: 14px;
}




.pay-body input {
  width: 100%;
  padding: 10px;
  margin-bottom: 10px;
}

.card-row {
  display: flex;
  gap: 10px;
}

</style>
<link rel="stylesheet" href="/frontend/css/checkout.css">
</head>
<body>

<div class="checkout-container">

  <!-- LEFT -->
  <div class="box">
    <div class="checkout-section">
  <h3>üè† Select Delivery Address</h3>
  <div id="addressSelector"></div>
</div>


<h3>üí≥ Payment Method</h3>

<div class="payment-box">

  <!-- COD -->
  <div class="pay-section">
    <label class="pay-header">
      <input type="radio" name="payMethod" value="cod" checked>
      <span>Cash on Delivery (COD)</span>
    </label>

    <div class="pay-body active" id="codBox">
      <p style="font-size:14px;color:#555">
        Pay when your order is delivered.
      </p>
    </div>
  </div>

  <!-- UPI -->
  <div class="pay-section">
    <label class="pay-header">
      <input type="radio" name="payMethod" value="upi">
      <span>UPI</span>
    </label>

    <div class="pay-body" id="upiBox">
      <label class="upi-option">
        <input type="radio" name="upiApp" value="paytm" checked> Paytm
      </label>
      <label class="upi-option">
        <input type="radio" name="upiApp" value="gpay"> Google Pay
      </label>
      <label class="upi-option">
        <input type="radio" name="upiApp" value="phonepe"> PhonePe
      </label>
    </div>
  </div>

<div id="upiModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);z-index:999;">
  <div style="background:#fff;width:320px;margin:10% auto;padding:20px;border-radius:10px;text-align:center">

    <h3>Complete Payment</h3>

    <img src="/frontend/asserts/qr.jpeg" alt="UPI QR Code"
         style="width:200px;height:200px;margin:10px 0">

    <p style="font-size:14px;color:#555">
      Pay using any UPI app<br>
      Amount: <b>‚Çπ<span id="upiPayAmount"></span></b>
    </p>

    <button onclick="confirmUPIPayment()"
      style="margin-top:10px;padding:10px;width:100%;background:#0bbf5a;color:#fff;border:none;border-radius:6px">
      I Have Paid
    </button>

    <button onclick="closeUPIModal()"
      style="margin-top:8px;padding:8px;width:100%">
      Cancel
    </button>

  </div>
</div>


  <!-- CARD -->
  <div class="pay-section">
    <label class="pay-header">
      <input type="radio" name="payMethod" value="card">
      <span>Credit / Debit / ATM Card</span>
    </label>

    <div class="pay-body" id="cardBox">
      <input type="text" placeholder="Card Number" maxlength="19">
      <div class="card-row">
        <input type="text" placeholder="MM / YY" maxlength="5">
        <input type="password" placeholder="CVV" maxlength="3">
      </div>
    </div>
  </div>

</div>
  </div>

  <!-- RIGHT -->
  <div class="box">
    <h3>üßæ Order Summary</h3>

    <div id="orderItems"></div>

    <div class="summary-item">
      <span>Subtotal</span>
      <span id="subtotal">0</span>
    </div>

    <div class="summary-item">
      <span>Discount</span>
      <span id="discount">0</span>
    </div>

    <div class="summary-item">
      <span>Delivery</span>
      <span id="delivery">0</span>
    </div>

    <div class="summary-item total">
      <span>Total</span>
      <span id="grandTotal">0</span>
    </div>

    <button class="btn" onclick="payNow()">Pay Now</button>
  </div>

</div>

<script src="/frontend/js/checkout.js"></script>
</body>
</html>